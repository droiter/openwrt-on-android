
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring Server-to-Server Sharing &mdash; ownCloud Administrators Manual 7.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <link rel="top" title="ownCloud Administrators Manual 7.0 documentation" href="../index.html" />
    <link rel="up" title="Configuration" href="index.html" />
    <link rel="next" title="Serving Static Files for Better Performance" href="serving_static_files_configuration.html" />
    <link rel="prev" title="Enabling Full-Text Search" href="search_configuration.html" />
<script type="text/javascript">
(function () {
  /**
   * Patch TOC list.
   *
   * Will mutate the underlying span to have a correct ul for nav.
   *
   * @param $span: Span containing nested UL's to mutate.
   * @param minLevel: Starting level for nested lists. (1: global, 2: local).
   */
  var patchToc = function ($ul, minLevel) {
    var findA;

    // Find all a "internal" tags, traversing recursively.
    findA = function ($elem, level) {
      var level = level || 0,
        $items = $elem.find("> li > a.internal, > ul, > li > ul");

      // Iterate everything in order.
      $items.each(function (index, item) {
        var $item = $(item),
          tag = item.tagName.toLowerCase(),
          pad = 15 + ((level - minLevel) * 10);

        if (tag === 'a' && level >= minLevel) {
          // Add to existing padding.
          $item.css('padding-left', pad + "px");
          console.log(level, $item, 'padding-left', pad + "px");
        } else if (tag === 'ul') {
          // Recurse.
          findA($item, level + 1);
        }
      });
    };

    console.log("HERE");
    findA($ul);
  };

  $(document).ready(function () {
    // Add styling, structure to TOC's.
    $(".dropdown-menu").each(function () {
      $(this).find("ul").each(function (index, item){
        var $item = $(item);
        $item.addClass('unstyled');
      });
      $(this).find("li").each(function () {
        $(this).parent().append(this);
      });
    });

    // Patch in level.
    patchToc($("ul.globaltoc"), 2);
    patchToc($("ul.localtoc"), 2);

    // Enable dropdown.
    $('.dropdown-toggle').dropdown();
  });
}());
</script>

  </head>
  <body>
  

<div class="container">
  <div class="content">
    <div class="page-header">
      <h1><a href="../contents.html">ownCloud Administrators Manual</a></h1>

    </div>
    
			<div class="row">
				<div class="span3">
					<div class="sidebar">
						<div class="well">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										<li><a href="../contents.html">Table of Contents</a></li>
									</ul>
                  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../videos.html">ownCloud Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new_admin.html">What&#8217;s New for Admins in ownCloud 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">ownCloud 7.0 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="activity_configuration.html">Configuring the Activity App</a></li>
<li class="toctree-l2"><a class="reference internal" href="antivirus_configuration.html">Configuring the ClamAV Antivirus Scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="automatic_configuration.html">Automatic Configuration Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="background_jobs_configuration.html">Defining Background Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="big_file_upload_configuration.html">Uploading big files &gt; 512MB (as set by default)</a></li>
<li class="toctree-l2"><a class="reference internal" href="collaborative_documents_configuration.html">Configuring the Collaborative Documents App</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_sample_php_parameters.html">Config.php Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_client_configuration.html">Custom Client Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="database_configuration.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_configuration.html">Email Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption_configuration.html">Encryption Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_storage_configuration_gui.html">Configuring External Storage (GUI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_storage_configuration.html">Configuring External Storage (Configuration File)</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_sites.html">Linking External Sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_sharing_configuration.html">File Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="files_locking_enabling.html">Files Locking App Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="harden_server.html">Hardening and Security Guidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="js_css_asset_management_configuration.html">JavaScript and CSS Asset Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="knowledgebase_configuration.html">Knowledge Base Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="language_configuration.html">Language Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging_configuration.html">Logging Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="occ_command.html">Using the occ Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance_tips.html">Performance Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="previews_configuration.html">Previews Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="reverse_proxy_configuration.html">Reverse Proxy Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_configuration.html">Enabling Full-Text Search</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Configuring Server-to-Server Sharing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="serving_static_files_configuration.html">Serving Static Files for Better Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="thirdparty_php_configuration.html">Using Third Party PHP Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_auth_ftp_smb_imap.html">User Authentication with IMAP, SMB, and FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_auth_ldap.html">User Authentication with LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_auth_ldap_cleanup.html">LDAP User Cleanup</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_configuration.html">User Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset_admin_password.html">Resetting a Lost Admin Password</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and Troubleshooting</a></li>
</ul>

								</ul>
							</div>
						</div>
					</div>
				</div>
        

				<div class="span9">
					<div class="page-content">
						
  <div class="section" id="configuring-server-to-server-sharing">
<h1>Configuring Server-to-Server Sharing<a class="headerlink" href="#configuring-server-to-server-sharing" title="Permalink to this headline">¶</a></h1>
<p>ownCloud 7 introduces a powerful new feature, server-to-server sharing. With
just a few clicks you can easily and securely create public shares for sharing
files and directories with other ownCloud 7 (and newer versions) servers. You
can automatically send an email notification when you create the share, add
password protection, allow users to upload files, and set an expiration date.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is called Federated Cloud Sharing in ownCloud 8. You may create
shares with oC8 servers, following the steps below using public link
shares. oC8 also supports creating the share using the <tt class="docutils literal"><span class="pre">Share</span> <span class="pre">with</span> <span class="pre">user</span> <span class="pre">or</span>
<span class="pre">group</span></tt> form field. This is not supported in oC7 and you must use public
link shares on both servers.</p>
</div>
<p>Follow these steps to create a new public share:</p>
<ol class="arabic simple">
<li>Go to the Admin page and scroll to the Remote Shares section.</li>
</ol>
<div class="figure">
<img alt="../_images/remote_shares.png" src="../_images/remote_shares.png" />
</div>
<p>2. To enable server-to-server sharing, and to allow remote users to mount your
shares in their ownCloud 7 accounts, check <tt class="docutils literal"><span class="pre">Allow</span> <span class="pre">other</span> <span class="pre">instances</span> <span class="pre">to</span> <span class="pre">mount</span>
<span class="pre">public</span> <span class="pre">links</span> <span class="pre">shared</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">server.</span></tt> Leaving the checkbox blank disables
server-to-server sharing.</p>
<p>3. You can enable the users on your local ownCloud server to mount
public link shares by checking <tt class="docutils literal"><span class="pre">Allow</span> <span class="pre">users</span> <span class="pre">to</span> <span class="pre">mount</span> <span class="pre">public</span> <span class="pre">link</span> <span class="pre">shares.</span></tt>
When this is not checked your users cannot mount public link shares, though
they can view and download them.</p>
<p>4. Now go to your Files page and hover your cursor over the file or directory
you want to share to expose the administration options. Check the <tt class="docutils literal"><span class="pre">Share</span>
<span class="pre">Link</span></tt> checkbox to create the share, and to expose all of your sharing options.</p>
<div class="figure">
<img alt="../_images/create_public_share.png" src="../_images/create_public_share.png" />
</div>
<p>Your new public share is labeled with a chain link. If you do not protect it
with a password, it is visible to anyone who has the URL. Users on other
ownCloud 7 servers can mount it and use it just like any ownCloud share.</p>
<p>Un-check the <tt class="docutils literal"><span class="pre">Share</span> <span class="pre">Link</span></tt> checkbox to disable the share.</p>
<p>See &#8220;Using Server-to-Server Sharing&#8221; in the Users Manual to learn how to
connect to a remote public share.</p>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>Your Apache Web server must have <tt class="docutils literal"><span class="pre">mod_rewrite</span></tt> enabled, and you must have
<tt class="docutils literal"><span class="pre">trusted_domains</span></tt> configured in <tt class="docutils literal"><span class="pre">config.php</span></tt>. Consider also enabling SSL to
encrypt all traffic between your servers. (See
<a class="reference internal" href="../installation/source_installation.html"><em>Manual Installation on Linux</em></a> to learn more about mod_rewrite, SSL,
and alternative HTTP servers. See <a class="reference internal" href="../installation/installation_wizard.html"><em>Installation Wizard</em></a> to
learn more about configuring trusted domains.)</p>
<p>Self-signed certificates for Server-to-Server Sharing are currently not supported.</p>
<p>Your ownCloud server creates the share link from the URL that you used to log
into the server, so make sure that you log into your server using a URL that is
accessible to your users. For example, if you log in via its LAN IP address,
such as <tt class="docutils literal"><span class="pre">http://192.168.10.50</span></tt>, then your share URL will be something like
<tt class="docutils literal"><span class="pre">http://192.168.10.50/owncloud/public.php?service=files&amp;t=</span>
<span class="pre">6b6fa9a714a32ef0af8a83dde358deec</span></tt>, which is not accessible outside of your
LAN. This also applies to using the server name; for access outside of your LAN
you need to use a fully-qualified domain name such as
<tt class="docutils literal"><span class="pre">http://myserver.example.com</span></tt>, rather than <tt class="docutils literal"><span class="pre">http://myserver</span></tt>.</p>
</div>
</div>


					</div>
				</div>
			</div>
    
  </div>
</div>
  </body>
</html>